/**
 * 第7章シナリオ - 数理の賢者たち「数理・統計知識」
 * G検定学習用の詳細解説付きストーリー
 */
export const chapter7Scenario = [
    // ===== プロローグ =====
    {
        character: "ナレーター",
        text: "DLの応用とプロジェクト管理を学んだAI。今度は、それらを裏で支える「数理・統計」の世界に足を踏み入れる。",
        bg: "math_realm"
    },
    {
        character: "DL (ディープラーニング)",
        text: "俺たちの力は、数学によって裏付けられている。数理の賢者たちに会おう。",
        visual: "dl_guide"
    },

    // ===== 線形代数 =====
    {
        character: "線形代数の賢者",
        text: "私は『線形代数』の賢者。ベクトルと行列を操る力を持ちます。",
        visual: "linear_appear"
    },
    {
        character: "ナレーター",
        text: "【ベクトル】数値の列。データ1件は多次元ベクトルとして表現される。\n【行列】ベクトルを束ねたもの。データセット全体や重みの集合を表現。",
        bg: "vector_matrix"
    },
    {
        character: "線形代数の賢者",
        text: "ニューラルネットワークの計算は、本質的に行列演算です。入力ベクトルに重み行列を掛け、バイアスを足す。",
        visual: "linear_explain"
    },
    {
        character: "ナレーター",
        text: "【内積・ドット積】2つのベクトルの類似度を測る。\n【行列の転置】行と列を入れ替える操作。\n【逆行列】掛けると単位行列になる行列。",
        bg: "linear_operations"
    },

    // ===== 確率・統計 =====
    {
        character: "確率の賢者",
        text: "確実なものなど、この世にない。だからこそ、不確実性を『数値化』する。それが私の魔術だ。",
        visual: "prob_appear"
    },
    {
        character: "ナレーター",
        text: "【確率分布】データがどのように分布しているかを表す関数。\n・正規分布（ガウス分布）：自然界に多く見られる釣鐘型の分布\n・ベルヌーイ分布：成功/失敗の2値を取る分布",
        bg: "distributions"
    },
    // ➡️ 概念図：正規分布
    {
        type: 'concept',
        conceptId: 'normal-distribution',
        title: '正規分布（ガウス分布）'
    },
    {
        character: "確率の賢者",
        text: "機械学習は本質的に確率論です。「この画像が猫である確率は95%」というように、確信度を出力します。",
        visual: "prob_explain"
    },
    {
        character: "ナレーター",
        text: "【期待値】確率変数の平均値。\n【分散】データのばらつきの度合い。\n【標準偏差】分散の平方根。元のデータと同じ単位。",
        bg: "statistics"
    },
    {
        character: "ナレーター",
        text: "【条件付き確率】P(A|B) = ある条件Bのもとで事象Aが起きる確率。\n【ベイズの定理】事後確率を計算する公式。P(A|B) = P(B|A)P(A)/P(B)",
        bg: "bayes"
    },
    // ➡️ 概念図：ベイズの定理
    {
        type: 'concept',
        conceptId: 'bayes-theorem',
        title: 'ベイズの定理'
    },

    // ===== 微分積分 =====
    {
        character: "微積分の賢者",
        text: "私は『微分積分』の賢者。変化を捉える力を持ちます。",
        visual: "calculus_appear"
    },
    {
        character: "微積分の賢者",
        text: "誤差逆伝播法の根底にあるのは微分です。誤差関数を各重みで偏微分して勾配を求めます。",
        visual: "calculus_explain"
    },
    {
        character: "ナレーター",
        text: "【微分/導関数】関数の傾き（変化率）を求める操作。\n【偏微分】多変数関数で、1つの変数についてのみ微分。\n【連鎖律】合成関数の微分法則。誤差逆伝播法の数学的基盤。",
        bg: "calculus"
    },
    {
        character: "ナレーター",
        text: "【勾配】多変数関数の各変数に関する偏微分をベクトルにまとめたもの。勾配の逆方向に進むと関数値が減少する。",
        bg: "gradient"
    },

    // ===== 情報理論 =====
    {
        character: "情報理論の賢者",
        text: "私は『情報理論』の賢者。情報の量と質を測る力を持ちます。",
        visual: "info_appear"
    },
    {
        character: "ナレーター",
        text: "【エントロピー】情報の不確かさ・乱雑さの度合い。確率が均等なほどエントロピーは高い。\n【交差エントロピー】2つの確率分布の差を測る。分類問題の損失関数として使用。",
        bg: "entropy"
    },
    {
        character: "情報理論の賢者",
        text: "分類問題の損失関数『交差エントロピー誤差』は、情報理論から来ています。",
        visual: "info_explain"
    },

    // ===== 最尤推定 =====
    {
        character: "ナレーター",
        text: "【最尤推定】観測されたデータを最もよく説明するパラメータを推定する方法。「このデータが得られた確率を最大化するパラメータは何か？」",
        bg: "mle"
    },
    {
        character: "確率の賢者",
        text: "ニューラルネットワークの学習は、最尤推定と見なすことができます。",
        visual: "prob_explain"
    },

    // ===== 相関と因果 =====
    {
        character: "ナレーター",
        text: "【相関と因果の違い】\n・相関：2つの変数が一緒に変動する関係。因果関係があるとは限らない。\n・因果：一方が他方を引き起こす関係。\n「アイス売上と溺死者数は相関するが、因果ではない（第三の要因：気温）」",
        bg: "correlation"
    },
    {
        character: "確率の賢者",
        text: "相関があるからといって、因果があるとは限らない。それを見極める眼を持て。この違いを理解することは非常に重要だ。",
        visual: "prob_serious"
    },
    // ➡️ 概念図：相関と因果
    {
        type: 'concept',
        conceptId: 'correlation-causation',
        title: '相関と因果の違い'
    },

    // ===== 次元削減の数理 =====
    {
        character: "ナレーター",
        text: "【主成分分析（PCA）の数理】\n固有値分解を使い、データの分散が最大になる方向（主成分）を見つける。高次元データを低次元に圧縮しながら情報を保持。",
        bg: "pca"
    },

    // ===== エピローグ =====
    {
        character: "AI (人工知能)",
        text: "なるほど...線形代数で計算を表現し、確率論で不確かさを扱い、微積分で学習を実現し、情報理論で損失を測る。全てが繋がっているのね。",
        visual: "ai_enlightened"
    },
    {
        character: "DL (ディープラーニング)",
        text: "数学は俺たちの言語だ。次は、社会で活動するためのルール『法律』を学ぶ番だ。",
        visual: "dl_guide"
    },
    {
        character: "ナレーター",
        text: "第7章「数理の賢者たち」完了。ミニゲームと確認クイズに挑戦しよう！",
        bg: "chapter_end"
    }
];
